{"version":3,"sources":["localForage.min.js","dbhelper.js","main.js","registerserviceworker.js"],"names":["a","exports","_typeof","module","define","amd","window","global","self","this","localforage","b","c","d","e","g","h","i","require","f","j","Error","code","k","call","length","1","l","MutationObserver","WebKitMutationObserver","document","createTextNode","observe","characterData","data","setImmediate","MessageChannel","createElement","onreadystatechange","parentNode","removeChild","documentElement","appendChild","setTimeout","port1","onmessage","port2","postMessage","push","2","TypeError","state","s","queue","outcome","promise","onFulfilled","callFulfilled","otherCallFulfilled","onRejected","callRejected","otherCallRejected","o","p","reject","resolve","then","apply","arguments","status","value","q","r","prototype","catch","constructor","all","Object","toString","Array","race","3","Promise","4","Blob","name","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","type","console","warn","String","n","xa","va","transaction","wa","Ba","objectStore","put","onabort","preventDefault","stopPropagation","oncomplete","navigator","userAgent","match","parseInt","ya","deferredOperations","dbReady","pop","forages","db","close","version","ua","open","onupgradeneeded","result","createObjectStore","storeName","oldVersion","newVersion","onerror","error","onsuccess","t","u","objectStoreNames","contains","w","ArrayBuffer","Uint8Array","charCodeAt","atob","x","__local_forage_encoded_blob","y","_initReady","_dbInfo","A","z","N","Da","indexOf","O","substring","R","executeSql","T","SYNTAX_ERR","rows","ea","ga","localStorage","setItem","removeItem","fa","ra","ready","sa","hasOwnProperty","$a","slice","ta","Symbol","iterator","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","za","Aa","Ca","_driver","_initStorage","_defaultConfig","_support","openDatabase","test","platform","fetch","IDBKeyRange","iterate","openCursor","key","continue","getItem","get","FileReader","onloadend","btoa","target","readAsBinaryString","delete","clear","count","advance","keys","dropInstance","config","deleteObjectStore","deleteDatabase","onblocked","Fa","Ga","Ha","Ia","Ja","Ta","Ua","Va","serialize","buffer","onload","readAsArrayBuffer","JSON","stringify","deserialize","parse","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","stringToBuffer","bufferToString","Wa","description","size","serializer","item","W","QUOTA_ERR","storeNames","Xa","keyPrefix","da","Za","isNaN","isArray","_a","ab","bb","INDEXEDDB","WEBSQL","LOCALSTORAGE","cb","eb","concat","fb","driver","hb","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","replace","info","getDriver","getSerializer","_extend","_getSupportedDrivers","supports","createInstance","RESTAURANTS_DBNAME","NEIBOURHOUDS_DBNAME","CUISINE_DBNAME","REVIEWS_DBNAME","FAVS_DBNAME","map","DBHelper","callback","DATABASE_URL","response","json","saveFetchedData","id","cuisine","fetchRestaurants","restaurants","results","filter","cuisine_type","neighborhood","err","filterByCuisineAndNeighborhood","filterByFavoriteCuisineAndNeighborhood","fetchFavoriteRestaurants","is_favorite","uniqueNeighborhoods","getUniqueNeighborhoods","neighborhoods","v","uniqueCuisines","getUniqueCuisines","cuisines","restaurant","photograph","google","maps","Marker","position","latlng","title","url","urlForRestaurant","animation","Animation","DROP","restaurant_id","el","method","classList","add","remove","find","dbName","favs_only","markers","addEventListener","event","updateRestaurants","fetchNeighborhoods","fetchCuisines","fillNeighborhoodsHTML","undefined","select","getElementById","forEach","option","innerHTML","fillCuisinesHTML","initMap","toggleFav","onclick","log","checked","m","observer","IntersectionObserver","entries","entry","intersectionRatio","showMap","unobserve","Map","zoom","center","lat","lng","scrollwheel","addMarkersToMap","cSelect","nSelect","cIndex","selectedIndex","nIndex","setAttribute","fetchFavoriteRestaurantByCuisineAndNeighborhood","resetRestaurants","fillRestaurantsHTML","fetchRestaurantByCuisineAndNeighborhood","setMap","ul","createRestaurantHTML","myImgs","querySelectorAll","setImageSrc","image","li","imageSrc","imageUrlForRestaurant","className","address","favBTN","toggleFavorite","more","href","getAttribute","src","marker","mapMarkerForRestaurant","addListener","location","polyfillsNeeded","polyfill","script","head","insertBefore","firstChild","registerServiceWorker","serviceWorker","register","reg","controller"],"mappings":"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","file":"script_index.min.js","sourcesContent":["/*!\n    localForage -- Offline Storage, Improved\n    Version 1.7.1\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n!function(a){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=a();else if(\"function\"==typeof define&&define.amd)define([],a);else{var b;b=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,b.localforage=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=\"function\"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error(\"Cannot find module '\"+g+\"'\");throw j.code=\"MODULE_NOT_FOUND\",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=\"function\"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){\"use strict\";function c(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode(\"\");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||void 0===a.MessageChannel)e=\"document\"in a&&\"onreadystatechange\"in a.document.createElement(\"script\")?function(){var b=a.document.createElement(\"script\");b.onreadystatechange=function(){c(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],2:[function(a,b,c){\"use strict\";function d(){}function e(a){if(\"function\"!=typeof a)throw new TypeError(\"resolver must be a function\");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,\"function\"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(b){return p.reject(a,b)}d===a?p.reject(a,new TypeError(\"Cannot resolve promise with itself\")):p.resolve(a,d)})}function h(a){var b=a&&a.then;if(a&&\"object\"==typeof a&&\"function\"==typeof b)return function(){b.apply(a,arguments)}}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);\"error\"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status=\"success\"}catch(a){c.status=\"error\",c.value=a}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==e||f||(f=!0,p.resolve(j,g))}c.resolve(a).then(d,function(a){f||(f=!0,p.reject(j,a))})}var c=this;if(\"[object Array]\"!==Object.prototype.toString.call(a))return this.reject(new TypeError(\"must be an array\"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=new Array(e),h=0,i=-1,j=new this(d);++i<e;)b(a[i],i);return j}function n(a){function b(a){c.resolve(a).then(function(a){f||(f=!0,p.resolve(h,a))},function(a){f||(f=!0,p.reject(h,a))})}var c=this;if(\"[object Array]\"!==Object.prototype.toString.call(a))return this.reject(new TypeError(\"must be an array\"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,h=new this(d);++g<e;)b(a[g]);return h}var o=a(1),p={},q=[\"REJECTED\"],r=[\"FULFILLED\"],s=[\"PENDING\"];b.exports=c=e,e.prototype.catch=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if(\"function\"!=typeof a&&this.state===r||\"function\"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){g(c,this.state===r?a:b,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if(\"error\"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},c.resolve=k,c.reject=l,c.all=m,c.race=n},{1:1}],3:[function(a,b,c){(function(b){\"use strict\";\"function\"!=typeof b.Promise&&(b.Promise=a(2))}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{2:2}],4:[function(a,b,c){\"use strict\";function d(a,b){if(!(a instanceof b))throw new TypeError(\"Cannot call a class as a function\")}function e(){try{if(\"undefined\"!=typeof indexedDB)return indexedDB;if(\"undefined\"!=typeof webkitIndexedDB)return webkitIndexedDB;if(\"undefined\"!=typeof mozIndexedDB)return mozIndexedDB;if(\"undefined\"!=typeof OIndexedDB)return OIndexedDB;if(\"undefined\"!=typeof msIndexedDB)return msIndexedDB}catch(a){return}}function f(){try{if(!ua)return!1;var a=\"undefined\"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b=\"function\"==typeof fetch&&-1!==fetch.toString().indexOf(\"[native code\");return(!a||b)&&\"undefined\"!=typeof indexedDB&&\"undefined\"!=typeof IDBKeyRange}catch(a){return!1}}function g(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(f){if(\"TypeError\"!==f.name)throw f;for(var c=\"undefined\"!=typeof BlobBuilder?BlobBuilder:\"undefined\"!=typeof MSBlobBuilder?MSBlobBuilder:\"undefined\"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,d=new c,e=0;e<a.length;e+=1)d.append(a[e]);return d.getBlob(b.type)}}function h(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function i(a,b,c){\"function\"==typeof b&&a.then(b),\"function\"==typeof c&&a.catch(c)}function j(a){return\"string\"!=typeof a&&(console.warn(a+\" used as a key, but it is not a string.\"),a=String(a)),a}function k(){if(arguments.length&&\"function\"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function l(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}function m(a){return new va(function(b){var c=a.transaction(wa,Ba),d=g([\"\"]);c.objectStore(wa).put(d,\"key\"),c.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},c.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\\/(\\d+)/),c=navigator.userAgent.match(/Edge\\//);b(c||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})}function n(a){return\"boolean\"==typeof xa?va.resolve(xa):m(a).then(function(a){return xa=a})}function o(a){var b=ya[a.name],c={};c.promise=new va(function(a,b){c.resolve=a,c.reject=b}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function p(a){var b=ya[a.name],c=b.deferredOperations.pop();if(c)return c.resolve(),c.promise}function q(a,b){var c=ya[a.name],d=c.deferredOperations.pop();if(d)return d.reject(b),d.promise}function r(a,b){return new va(function(c,d){if(ya[a.name]=ya[a.name]||B(),a.db){if(!b)return c(a.db);o(a),a.db.close()}var e=[a.name];b&&e.push(a.version);var f=ua.open.apply(ua,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(wa)}catch(c){if(\"ConstraintError\"!==c.name)throw c;console.warn('The database \"'+a.name+'\" has been upgraded from version '+b.oldVersion+\" to version \"+b.newVersion+', but the storage \"'+a.storeName+'\" already exists.')}}),f.onerror=function(a){a.preventDefault(),d(f.error)},f.onsuccess=function(){c(f.result),p(a)}})}function s(a){return r(a,!1)}function t(a){return r(a,!0)}function u(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database \"'+a.name+\"\\\" can't be downgraded from version \"+a.db.version+\" to version \"+a.version+\".\"),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function v(a){return new va(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||\"\");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function w(a){return g([l(atob(a.data))],{type:a.type})}function x(a){return a&&a.__local_forage_encoded_blob}function y(a){var b=this,c=b._initReady().then(function(){var a=ya[b._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return i(c,a,a),c}function z(a){o(a);for(var b=ya[a.name],c=b.forages,d=0;d<c.length;d++){var e=c[d];e._dbInfo.db&&(e._dbInfo.db.close(),e._dbInfo.db=null)}return a.db=null,s(a).then(function(b){return a.db=b,u(a)?t(a):b}).then(function(d){a.db=b.db=d;for(var e=0;e<c.length;e++)c[e]._dbInfo.db=d}).catch(function(b){throw q(a,b),b})}function A(a,b,c,d){void 0===d&&(d=1);try{var e=a.db.transaction(a.storeName,b);c(null,e)}catch(e){if(d>0&&(!a.db||\"InvalidStateError\"===e.name||\"NotFoundError\"===e.name))return va.resolve().then(function(){if(!a.db||\"NotFoundError\"===e.name&&!a.db.objectStoreNames.contains(a.storeName)&&a.version<=a.db.version)return a.db&&(a.version=a.db.version+1),t(a)}).then(function(){return z(a).then(function(){A(a,b,c,d-1)})}).catch(c);c(e)}}function B(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function C(a){function b(){return va.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];var f=ya[d.name];f||(f=B(),ya[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=y);for(var g=[],h=0;h<f.forages.length;h++){var i=f.forages[h];i!==c&&g.push(i._initReady().catch(b))}var j=f.forages.slice(0);return va.all(g).then(function(){return d.db=f.db,s(d)}).then(function(a){return d.db=a,u(d,c._defaultConfig.version)?t(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b=0;b<j.length;b++){var e=j[b];e!==c&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})}function D(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){A(c._dbInfo,Aa,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.get(a);h.onsuccess=function(){var a=h.result;void 0===a&&(a=null),x(a)&&(a=w(a)),b(a)},h.onerror=function(){d(h.error)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function E(a,b){var c=this,d=new va(function(b,d){c.ready().then(function(){A(c._dbInfo,Aa,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.openCursor(),i=1;h.onsuccess=function(){var c=h.result;if(c){var d=c.value;x(d)&&(d=w(d));var e=a(d,c.key,i++);void 0!==e?b(e):c.continue()}else b()},h.onerror=function(){d(h.error)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function F(a,b,c){var d=this;a=j(a);var e=new va(function(c,e){var f;d.ready().then(function(){return f=d._dbInfo,\"[object Blob]\"===za.call(b)?n(f.db).then(function(a){return a?b:v(b)}):b}).then(function(b){A(d._dbInfo,Ba,function(f,g){if(f)return e(f);try{var h=g.objectStore(d._dbInfo.storeName);null===b&&(b=void 0);var i=h.put(b,a);g.oncomplete=function(){void 0===b&&(b=null),c(b)},g.onabort=g.onerror=function(){var a=i.error?i.error:i.transaction.error;e(a)}}catch(a){e(a)}})}).catch(e)});return h(e,c),e}function G(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){A(c._dbInfo,Ba,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=g.delete(a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function H(a){var b=this,c=new va(function(a,c){b.ready().then(function(){A(b._dbInfo,Ba,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}}catch(a){c(a)}})}).catch(c)});return h(c,a),c}function I(a){var b=this,c=new va(function(a,c){b.ready().then(function(){A(b._dbInfo,Aa,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.count();g.onsuccess=function(){a(g.result)},g.onerror=function(){c(g.error)}}catch(a){c(a)}})}).catch(c)});return h(c,a),c}function J(a,b){var c=this,d=new va(function(b,d){if(a<0)return void b(null);c.ready().then(function(){A(c._dbInfo,Aa,function(e,f){if(e)return d(e);try{var g=f.objectStore(c._dbInfo.storeName),h=!1,i=g.openCursor();i.onsuccess=function(){var c=i.result;if(!c)return void b(null);0===a?b(c.key):h?b(c.key):(h=!0,c.advance(a))},i.onerror=function(){d(i.error)}}catch(a){d(a)}})}).catch(d)});return h(d,b),d}function K(a){var b=this,c=new va(function(a,c){b.ready().then(function(){A(b._dbInfo,Aa,function(d,e){if(d)return c(d);try{var f=e.objectStore(b._dbInfo.storeName),g=f.openCursor(),h=[];g.onsuccess=function(){var b=g.result;if(!b)return void a(h);h.push(b.key),b.continue()},g.onerror=function(){c(g.error)}}catch(a){c(a)}})}).catch(c)});return h(c,a),c}function L(a,b){b=k.apply(this,arguments);var c=this.config();a=\"function\"!=typeof a&&a||{},a.name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);var d,e=this;if(a.name){var f=a.name===c.name&&e._dbInfo.db,g=f?va.resolve(e._dbInfo.db):s(a).then(function(b){var c=ya[a.name],d=c.forages;c.db=b;for(var e=0;e<d.length;e++)d[e]._dbInfo.db=b;return b});d=a.storeName?g.then(function(b){if(b.objectStoreNames.contains(a.storeName)){var c=b.version+1;o(a);var d=ya[a.name],e=d.forages;b.close();for(var f=0;f<e.length;f++){var g=e[f];g._dbInfo.db=null,g._dbInfo.version=c}return new va(function(b,d){var e=ua.open(a.name,c);e.onerror=function(a){e.result.close(),d(a)},e.onupgradeneeded=function(){e.result.deleteObjectStore(a.storeName)},e.onsuccess=function(){var a=e.result;a.close(),b(a)}}).then(function(a){d.db=a;for(var b=0;b<e.length;b++){var c=e[b];c._dbInfo.db=a,p(c._dbInfo)}}).catch(function(b){throw(q(a,b)||va.resolve()).catch(function(){}),b})}}):g.then(function(b){o(a);var c=ya[a.name],d=c.forages;b.close();for(var e=0;e<d.length;e++){d[e]._dbInfo.db=null}return new va(function(b,c){var d=ua.deleteDatabase(a.name);d.onerror=d.onblocked=function(a){var b=d.result;b&&b.close(),c(a)},d.onsuccess=function(){var a=d.result;a&&a.close(),b(a)}}).then(function(a){c.db=a;for(var b=0;b<d.length;b++)p(d[b]._dbInfo)}).catch(function(b){throw(q(a,b)||va.resolve()).catch(function(){}),b})})}else d=va.reject(\"Invalid arguments\");return h(d,b),d}function M(){return\"function\"==typeof openDatabase}function N(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;\"=\"===a[a.length-1]&&(g--,\"=\"===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;b<h;b+=4)c=Da.indexOf(a[b]),d=Da.indexOf(a[b+1]),e=Da.indexOf(a[b+2]),f=Da.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function O(a){var b,c=new Uint8Array(a),d=\"\";for(b=0;b<c.length;b+=3)d+=Da[c[b]>>2],d+=Da[(3&c[b])<<4|c[b+1]>>4],d+=Da[(15&c[b+1])<<2|c[b+2]>>6],d+=Da[63&c[b+2]];return c.length%3==2?d=d.substring(0,d.length-1)+\"=\":c.length%3==1&&(d=d.substring(0,d.length-2)+\"==\"),d}function P(a,b){var c=\"\";if(a&&(c=Ua.call(a)),a&&(\"[object ArrayBuffer]\"===c||a.buffer&&\"[object ArrayBuffer]\"===Ua.call(a.buffer))){var d,e=Ga;a instanceof ArrayBuffer?(d=a,e+=Ia):(d=a.buffer,\"[object Int8Array]\"===c?e+=Ka:\"[object Uint8Array]\"===c?e+=La:\"[object Uint8ClampedArray]\"===c?e+=Ma:\"[object Int16Array]\"===c?e+=Na:\"[object Uint16Array]\"===c?e+=Pa:\"[object Int32Array]\"===c?e+=Oa:\"[object Uint32Array]\"===c?e+=Qa:\"[object Float32Array]\"===c?e+=Ra:\"[object Float64Array]\"===c?e+=Sa:b(new Error(\"Failed to get type for BinaryArray\"))),b(e+O(d))}else if(\"[object Blob]\"===c){var f=new FileReader;f.onload=function(){var c=Ea+a.type+\"~\"+O(this.result);b(Ga+Ja+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(c){console.error(\"Couldn't convert value into a JSON string: \",a),b(null,c)}}function Q(a){if(a.substring(0,Ha)!==Ga)return JSON.parse(a);var b,c=a.substring(Ta),d=a.substring(Ha,Ta);if(d===Ja&&Fa.test(c)){var e=c.match(Fa);b=e[1],c=c.substring(e[0].length)}var f=N(c);switch(d){case Ia:return f;case Ja:return g([f],{type:b});case Ka:return new Int8Array(f);case La:return new Uint8Array(f);case Ma:return new Uint8ClampedArray(f);case Na:return new Int16Array(f);case Pa:return new Uint16Array(f);case Oa:return new Int32Array(f);case Qa:return new Uint32Array(f);case Ra:return new Float32Array(f);case Sa:return new Float64Array(f);default:throw new Error(\"Unkown type: \"+d)}}function R(a,b,c,d){a.executeSql(\"CREATE TABLE IF NOT EXISTS \"+b.storeName+\" (id INTEGER PRIMARY KEY, key unique, value)\",[],c,d)}function S(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=\"string\"!=typeof a[d]?a[d].toString():a[d];var e=new va(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(a){return d(a)}c.db.transaction(function(e){R(e,c,function(){b._dbInfo=c,a()},function(a,b){d(b)})},d)});return c.serializer=Va,e}function T(a,b,c,d,e,f){a.executeSql(c,d,e,function(a,g){g.code===g.SYNTAX_ERR?a.executeSql(\"SELECT name FROM sqlite_master WHERE type='table' AND name = ?\",[name],function(a,h){h.rows.length?f(a,g):R(a,b,function(){a.executeSql(c,d,e,f)},f)},f):f(a,g)},f)}function U(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"SELECT * FROM \"+e.storeName+\" WHERE key = ? LIMIT 1\",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function V(a,b){var c=this,d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"SELECT * FROM \"+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;h<g;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),void 0!==(j=a(j,i.key,h+1)))return void b(j)}b()},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function W(a,b,c,d){var e=this;a=j(a);var f=new va(function(f,g){e.ready().then(function(){void 0===b&&(b=null);var h=b,i=e._dbInfo;i.serializer.serialize(b,function(b,j){j?g(j):i.db.transaction(function(c){T(c,i,\"INSERT OR REPLACE INTO \"+i.storeName+\" (key, value) VALUES (?, ?)\",[a,b],function(){f(h)},function(a,b){g(b)})},function(b){if(b.code===b.QUOTA_ERR){if(d>0)return void f(W.apply(e,[a,h,c,d-1]));g(b)}})})}).catch(g)});return h(f,c),f}function X(a,b,c){return W.apply(this,[a,b,c,1])}function Y(a,b){var c=this;a=j(a);var d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"DELETE FROM \"+e.storeName+\" WHERE key = ?\",[a],function(){b()},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function Z(a){var b=this,c=new va(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){T(b,d,\"DELETE FROM \"+d.storeName,[],function(){a()},function(a,b){c(b)})})}).catch(c)});return h(c,a),c}function $(a){var b=this,c=new va(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){T(b,d,\"SELECT COUNT(key) as c FROM \"+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})}).catch(c)});return h(c,a),c}function _(a,b){var c=this,d=new va(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){T(c,e,\"SELECT key FROM \"+e.storeName+\" WHERE id = ? LIMIT 1\",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})}).catch(d)});return h(d,b),d}function aa(a){var b=this,c=new va(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){T(b,d,\"SELECT key FROM \"+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})}).catch(c)});return h(c,a),c}function ba(a){return new va(function(b,c){a.transaction(function(d){d.executeSql(\"SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\",[],function(c,d){for(var e=[],f=0;f<d.rows.length;f++)e.push(d.rows.item(f).name);b({db:a,storeNames:e})},function(a,b){c(b)})},function(a){c(a)})})}function ca(a,b){b=k.apply(this,arguments);var c=this.config();a=\"function\"!=typeof a&&a||{},a.name||(a.name=a.name||c.name,a.storeName=a.storeName||c.storeName);var d,e=this;return d=a.name?new va(function(b){var d;d=a.name===c.name?e._dbInfo.db:openDatabase(a.name,\"\",\"\",0),b(a.storeName?{db:d,storeNames:[a.storeName]}:ba(d))}).then(function(a){return new va(function(b,c){a.db.transaction(function(d){function e(a){return new va(function(b,c){d.executeSql(\"DROP TABLE IF EXISTS \"+a,[],function(){b()},function(a,b){c(b)})})}for(var f=[],g=0,h=a.storeNames.length;g<h;g++)f.push(e(a.storeNames[g]));va.all(f).then(function(){b()}).catch(function(a){c(a)})},function(a){c(a)})})}):va.reject(\"Invalid arguments\"),h(d,b),d}function da(){try{return\"undefined\"!=typeof localStorage&&\"setItem\"in localStorage&&!!localStorage.setItem}catch(a){return!1}}function ea(a,b){var c=a.name+\"/\";return a.storeName!==b.storeName&&(c+=a.storeName+\"/\"),c}function fa(){var a=\"_localforage_support_test\";try{return localStorage.setItem(a,!0),localStorage.removeItem(a),!1}catch(a){return!0}}function ga(){return!fa()||localStorage.length>0}function ha(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=ea(a,b._defaultConfig),ga()?(b._dbInfo=c,c.serializer=Va,va.resolve()):va.reject()}function ia(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return h(c,a),c}function ja(a,b){var c=this;a=j(a);var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return h(d,b),d}function ka(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;h<f;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),void 0!==(j=a(j,i.substring(e),g++)))return j}}});return h(d,b),d}function la(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(a){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return h(d,b),d}function ma(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;e<c;e++){var f=localStorage.key(e);0===f.indexOf(a.keyPrefix)&&d.push(f.substring(a.keyPrefix.length))}return d});return h(c,a),c}function na(a){var b=this,c=b.keys().then(function(a){return a.length});return h(c,a),c}function oa(a,b){var c=this;a=j(a);var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return h(d,b),d}function pa(a,b,c){var d=this;a=j(a);var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new va(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(a){\"QuotaExceededError\"!==a.name&&\"NS_ERROR_DOM_QUOTA_REACHED\"!==a.name||f(a),f(a)}})})});return h(e,c),e}function qa(a,b){if(b=k.apply(this,arguments),a=\"function\"!=typeof a&&a||{},!a.name){var c=this.config();a.name=a.name||c.name,a.storeName=a.storeName||c.storeName}var d,e=this;return d=a.name?new va(function(b){b(a.storeName?ea(a,e._defaultConfig):a.name+\"/\")}).then(function(a){for(var b=localStorage.length-1;b>=0;b--){var c=localStorage.key(b);0===c.indexOf(a)&&localStorage.removeItem(c)}}):va.reject(\"Invalid arguments\"),h(d,b),d}function ra(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function sa(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&($a(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}var ta=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&\"function\"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?\"symbol\":typeof a},ua=e();\"undefined\"==typeof Promise&&a(3);var va=Promise,wa=\"local-forage-detect-blob-support\",xa=void 0,ya={},za=Object.prototype.toString,Aa=\"readonly\",Ba=\"readwrite\",Ca={_driver:\"asyncStorage\",_initStorage:C,_support:f(),iterate:E,getItem:D,setItem:F,removeItem:G,clear:H,length:I,key:J,keys:K,dropInstance:L},Da=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",Ea=\"~~local_forage_type~\",Fa=/^~~local_forage_type~([^~]+)~/,Ga=\"__lfsc__:\",Ha=Ga.length,Ia=\"arbf\",Ja=\"blob\",Ka=\"si08\",La=\"ui08\",Ma=\"uic8\",Na=\"si16\",Oa=\"si32\",Pa=\"ur16\",Qa=\"ui32\",Ra=\"fl32\",Sa=\"fl64\",Ta=Ha+Ia.length,Ua=Object.prototype.toString,Va={serialize:P,deserialize:Q,stringToBuffer:N,bufferToString:O},Wa={_driver:\"webSQLStorage\",_initStorage:S,_support:M(),iterate:V,getItem:U,setItem:X,removeItem:Y,clear:Z,length:$,key:_,keys:aa,dropInstance:ca},Xa={_driver:\"localStorageWrapper\",_initStorage:ha,_support:da(),iterate:ka,getItem:ja,setItem:pa,removeItem:oa,clear:ia,length:na,key:la,keys:ma,dropInstance:qa},Ya=function(a,b){return a===b||\"number\"==typeof a&&\"number\"==typeof b&&isNaN(a)&&isNaN(b)},Za=function(a,b){for(var c=a.length,d=0;d<c;){if(Ya(a[d],b))return!0;d++}return!1},$a=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)},_a={},ab={},bb={INDEXEDDB:Ca,WEBSQL:Wa,LOCALSTORAGE:Xa},cb=[bb.INDEXEDDB._driver,bb.WEBSQL._driver,bb.LOCALSTORAGE._driver],db=[\"dropInstance\"],eb=[\"clear\",\"getItem\",\"iterate\",\"key\",\"keys\",\"length\",\"removeItem\",\"setItem\"].concat(db),fb={description:\"\",driver:cb.slice(),name:\"localforage\",size:4980736,storeName:\"keyvaluepairs\",version:1},gb=function(){function a(b){d(this,a);for(var c in bb)if(bb.hasOwnProperty(c)){var e=bb[c],f=e._driver;this[c]=f,_a[f]||this.defineDriver(e)}this._defaultConfig=sa({},fb),this._config=sa({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return a.prototype.config=function(a){if(\"object\"===(void 0===a?\"undefined\":ta(a))){if(this._ready)return new Error(\"Can't call config() after localforage has been used.\");for(var b in a){if(\"storeName\"===b&&(a[b]=a[b].replace(/\\W/g,\"_\")),\"version\"===b&&\"number\"!=typeof a[b])return new Error(\"Database version must be a number.\");this._config[b]=a[b]}return!(\"driver\"in a&&a.driver)||this.setDriver(this._config.driver)}return\"string\"==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new va(function(b,c){try{var d=a._driver,e=new Error(\"Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver\");if(!a._driver)return void c(e);for(var f=eb.concat(\"_initStorage\"),g=0,i=f.length;g<i;g++){var j=f[g];if((!Za(db,j)||a[j])&&\"function\"!=typeof a[j])return void c(e)}(function(){for(var b=function(a){return function(){var b=new Error(\"Method \"+a+\" is not implemented by the current driver\"),c=va.reject(b);return h(c,arguments[arguments.length-1]),c}},c=0,d=db.length;c<d;c++){var e=db[c];a[e]||(a[e]=b(e))}})();var k=function(c){_a[d]&&console.info(\"Redefining LocalForage driver: \"+d),_a[d]=a,ab[d]=c,b()};\"_support\"in a?a._support&&\"function\"==typeof a._support?a._support().then(k,c):k(!!a._support):k(!0)}catch(a){c(a)}});return i(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=_a[a]?va.resolve(_a[a]):va.reject(new Error(\"Driver not found.\"));return i(d,b,c),d},a.prototype.getSerializer=function(a){var b=va.resolve(Va);return i(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return i(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){g._config.driver=g.driver()}function e(a){return g._extend(a),d(),g._ready=g._initStorage(g._config),g._ready}function f(a){return function(){function b(){for(;c<a.length;){var f=a[c];return c++,g._dbInfo=null,g._ready=null,g.getDriver(f).then(e).catch(b)}d();var h=new Error(\"No available storage method found.\");return g._driverSet=va.reject(h),g._driverSet}var c=0;return b()}}var g=this;$a(a)||(a=[a]);var h=this._getSupportedDrivers(a),j=null!==this._driverSet?this._driverSet.catch(function(){return va.resolve()}):va.resolve();return this._driverSet=j.then(function(){var a=h[0];return g._dbInfo=null,g._ready=null,g.getDriver(a).then(function(a){g._driver=a._driver,d(),g._wrapLibraryMethodsWithReady(),g._initDriver=f(h)})}).catch(function(){d();var a=new Error(\"No available storage method found.\");return g._driverSet=va.reject(a),g._driverSet}),i(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!ab[a]},a.prototype._extend=function(a){sa(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0,b=eb.length;a<b;a++)ra(this,eb[a])},a.prototype.createInstance=function(b){return new a(b)},a}(),hb=new gb;b.exports=hb},{3:3}]},{},[4])(4)});","/**\r\n * The names of the objectStores in the IndexedDB\r\n */\r\nconst RESTAURANTS_DBNAME = \"restaurants\";\r\nconst NEIBOURHOUDS_DBNAME = \"neighborhoods\";\r\nconst CUISINE_DBNAME = \"cuisines\";\r\nconst REVIEWS_DBNAME = \"reviews\";\r\nconst FAVS_DBNAME = \"favs\";\r\n\r\n/*\r\n* Set the name of indexedDB to \"Restaurants_App\"\r\n*/\r\nif (window.localforage)\r\n    window.localforage.config({\r\n    name: 'Restaurants_App'\r\n});\r\n\r\n\r\n/**\r\n * Common database helper functions.\r\n */\r\nclass DBHelper {\r\n\r\n    /**\r\n    * Database URL.\r\n    * Change this to restaurants.json file location on your server.\r\n    */\r\n    static get DATABASE_URL() {\r\n        const port = 1337 // Change this to your server port\r\n        //return `http://localhost:${port}/restaurants`;\r\n        return `http://localhost:${port}`;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n    * Fetch all restaurants.\r\n    */\r\n    static fetchRestaurants(callback) {\r\n        fetch(`${DBHelper.DATABASE_URL}/restaurants`).then((response) => {\r\n            const result = response.json();\r\n            //Save the fetched data in indexedDB\r\n            DBHelper.saveFetchedData(RESTAURANTS_DBNAME, result);\r\n            return result;\r\n        }).then((data) => { callback(null, data); });\r\n    }\r\n\r\n\r\n    /**\r\n    * Fetch a restaurant by its ID.\r\n    */\r\n    static fetchRestaurantById(id, callback) {\r\n        fetch(`${DBHelper.DATABASE_URL}/${id}`).then(function (response) {\r\n            return response.json();\r\n        }).then(function (data) {\r\n            callback(null, data);\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n    * Fetch restaurants by a cuisine type with proper error handling.\r\n    */\r\n    static fetchRestaurantByCuisine(cuisine, callback) {\r\n        // Fetch all restaurants  with proper error handling\r\n        DBHelper.fetchRestaurants((error, restaurants) => {\r\n            if (error) {\r\n                callback(error, null);\r\n            } else {\r\n                // Filter restaurants to have only given cuisine type\r\n                const results = restaurants.filter(r => r.cuisine_type == cuisine);\r\n                callback(null, results);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n    * Fetch restaurants by a neighborhood with proper error handling.\r\n    */\r\n    static fetchRestaurantByNeighborhood(neighborhood, callback) {\r\n        // Fetch all restaurants\r\n        DBHelper.fetchRestaurants((error, restaurants) => {\r\n            if (error) {\r\n                callback(error, null);\r\n            } else {\r\n                // Filter restaurants to have only given neighborhood\r\n                const results = restaurants.filter(r => r.neighborhood == neighborhood);\r\n                callback(null, results);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n    * Fetch restaurants by a cuisine and a neighborhood with proper error handling.\r\n    */\r\n    static fetchRestaurantByCuisineAndNeighborhood(cuisine, neighborhood, callback) {\r\n\r\n        window.localforage.getItem(RESTAURANTS_DBNAME, function (err, restaurants) {\r\n            if (restaurants) {\r\n                callback(null, DBHelper.filterByCuisineAndNeighborhood(restaurants, cuisine, neighborhood));\r\n            } else {\r\n                // Fetch all restaurants\r\n                DBHelper.fetchRestaurants((error, restaurants) => {\r\n                    if (error) {\r\n                        callback(error, null);\r\n                    } else {\r\n                        callback(null, DBHelper.filterByCuisineAndNeighborhood(restaurants, cuisine, neighborhood));\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    static filterByCuisineAndNeighborhood (restaurants, cuisine, neighborhood) {\r\n        let results = restaurants\r\n        if (cuisine != 'all') { // filter by cuisine\r\n            results = results.filter(r => r.cuisine_type == cuisine);\r\n        }\r\n        if (neighborhood != 'all') { // filter by neighborhood\r\n            results = results.filter(r => r.neighborhood == neighborhood);\r\n        }\r\n        return results;\r\n    }\r\n\r\n\r\n    /**\r\n    * Fetch favorite restaurants by a cuisine and a neighborhood with proper error handling.\r\n    */\r\n    static fetchFavoriteRestaurantByCuisineAndNeighborhood(cuisine, neighborhood, callback) {\r\n\r\n        window.localforage.getItem(RESTAURANTS_DBNAME, function (err, restaurants) {\r\n            if (restaurants) {\r\n                callback(null, DBHelper.filterByFavoriteCuisineAndNeighborhood(restaurants, cuisine, neighborhood));\r\n            } else {\r\n                // Fetch favorite restaurants\r\n                DBHelper.fetchFavoriteRestaurants().then((restaurants) => {                                         \r\n                    callback(null, DBHelper.filterByFavoriteCuisineAndNeighborhood(restaurants, cuisine, neighborhood));                    \r\n\r\n                }).catch((error) => { callback(error, null); });\r\n            }\r\n        });\r\n    }\r\n\r\n    static filterByFavoriteCuisineAndNeighborhood(restaurants, cuisine, neighborhood) {\r\n        let results = restaurants\r\n        if (cuisine != 'all') { // filter by cuisine\r\n            results = results.filter(r => r.cuisine_type == cuisine && (r.is_favorite == \"true\" || r.is_favorite == true));\r\n        } else {\r\n            results = results.filter(r => (r.is_favorite == \"true\" || r.is_favorite == true));\r\n        }\r\n\r\n        if (neighborhood != 'all') { // filter by neighborhood\r\n            results = results.filter(r => r.neighborhood == neighborhood && (r.is_favorite == \"true\" || r.is_favorite == true));\r\n        } else {\r\n            results = results.filter(r => (r.is_favorite == \"true\" || r.is_favorite == true));\r\n        }\r\n        return results;\r\n    }\r\n\r\n\r\n    /**\r\n    * Fetch all neighborhoods with proper error handling.\r\n    */\r\n    static fetchNeighborhoods(callback) {\r\n        window.localforage.getItem(RESTAURANTS_DBNAME, function (err, restaurants) {\r\n            if (restaurants) {\r\n\r\n                const uniqueNeighborhoods = DBHelper.getUniqueNeighborhoods(restaurants);\r\n                callback(null, uniqueNeighborhoods);\r\n\r\n            } else {\r\n                // Fetch all restaurants\r\n                DBHelper.fetchRestaurants((error, restaurants) => {\r\n                    if (error) {\r\n                        callback(error, null);\r\n                    } else {\r\n                        \r\n                        const uniqueNeighborhoods = DBHelper.getUniqueNeighborhoods(restaurants);\r\n                        DBHelper.saveFetchedData(NEIBOURHOUDS_DBNAME, uniqueNeighborhoods);\r\n                        callback(null, uniqueNeighborhoods);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    static getUniqueNeighborhoods (restaurants) {\r\n        // Get all neighborhoods from all restaurants\r\n        const neighborhoods = restaurants.map((v, i) => restaurants[i].neighborhood);\r\n        // Remove duplicates from neighborhoods\r\n        return neighborhoods.filter((v, i) => neighborhoods.indexOf(v) == i);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n    * Fetch all cuisines with proper error handling.\r\n    */\r\n    static fetchCuisines(callback) {\r\n        window.localforage.getItem(RESTAURANTS_DBNAME, function (err, restaurants) {\r\n            if (restaurants) {\r\n\r\n                const uniqueCuisines = DBHelper.getUniqueCuisines(restaurants);\r\n                callback(null, uniqueCuisines);\r\n\r\n            } else {\r\n                // Fetch all restaurants\r\n                DBHelper.fetchRestaurants((error, restaurants) => {\r\n                    if (error) {\r\n                        callback(error, null);\r\n                    } else {\r\n                        const uniqueCuisines = DBHelper.getUniqueCuisines(restaurants);\r\n                        DBHelper.saveFetchedData(CUISINE_DBNAME, uniqueCuisines);\r\n                        callback(null, uniqueCuisines);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n\r\n    static getUniqueCuisines (restaurants) {\r\n        // Get all cuisines from all restaurants\r\n        const cuisines = restaurants.map((v, i) => restaurants[i].cuisine_type);\r\n        // Remove duplicates from cuisines\r\n        return cuisines.filter((v, i) => cuisines.indexOf(v) == i);\r\n    }\r\n\r\n\r\n    /**\r\n    * Restaurant page URL.\r\n    */\r\n    static urlForRestaurant(restaurant) {\r\n        return (`./restaurant.html?id=${restaurant.id}`);\r\n    }\r\n\r\n\r\n    /**\r\n    * Restaurant image URL.\r\n    */\r\n    static imageUrlForRestaurant(restaurant) {\r\n        if (restaurant.photograph) return (`/img/${restaurant.photograph}`);\r\n    }\r\n\r\n\r\n    /**\r\n    * Map marker for a restaurant.\r\n    */\r\n    static mapMarkerForRestaurant(restaurant, map) {\r\n        const marker = new google.maps.Marker({\r\n            position: restaurant.latlng,\r\n            title: restaurant.name,\r\n            url: DBHelper.urlForRestaurant(restaurant),\r\n            map: map,\r\n            animation: google.maps.Animation.DROP}\r\n        );\r\n        return marker;\r\n    }\r\n   \r\n\r\n    /**\r\n    * Fetch restaurant reviews.\r\n    */\r\n    static fetchRestaurantReviews(callback, restaurant_id) {\r\n        fetch(`${DBHelper.DATABASE_URL}/reviews/?restaurant_id=${restaurant_id}`).then((response) => {\r\n            const result = response.json();\r\n            //Save the fetched data in indexedDB\r\n\r\n            DBHelper.saveFetchedData(RESTAURANTS_DBNAME, result);\r\n            return result;\r\n        }).then((data) => { callback(null, data); });\r\n    }\r\n\r\n    /**\r\n    * Favorite/Unfavorite a restaurant.\r\n    */\r\n    static toggleFavorite(el, restaurant_id, is_favorite) {\r\n        fetch(`${DBHelper.DATABASE_URL}/restaurants/${restaurant_id}/?is_favorite=${is_favorite}`, { method: 'PUT' }).then((response) => {\r\n            return response.json();\r\n        }).then((data) => {\r\n            if (is_favorite === true) {\r\n                el.value = '\\u2605';\r\n                el.classList.add('gold');\r\n            } else {\r\n                el.value = '\\u2606';\r\n                el.classList.remove('gold');\r\n            }\r\n\r\n            //update the offline storage appropriately:\r\n            window.localforage.getItem(RESTAURANTS_DBNAME, function (err, restaurants) {\r\n                if (restaurants) {\r\n                    const restaurant = restaurants.find(r => r.id == restaurant_id);\r\n                    restaurant.is_favorite = is_favorite;\r\n                    DBHelper.saveFetchedData(RESTAURANTS_DBNAME, restaurants);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n    * Get favorite restaurants.\r\n    */\r\n    static fetchFavoriteRestaurants() {\r\n        return fetch(`${DBHelper.DATABASE_URL}/restaurants/?is_favorite=true`).then((response) => {\r\n            return response.json();\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n    * add objectStore to indexDB.\r\n    */\r\n    static saveFetchedData(dbName, data) {\r\n        window.localforage.setItem(dbName, data);\r\n    };\r\n}","let restaurants,\r\n  neighborhoods,\r\n  cuisines,\r\n  favs_only = false;\r\nvar map;\r\nvar markers = [];\r\n\r\n\r\n/**\r\n * Fetch neighborhoods and cuisines as soon as the page is loaded.\r\n */\r\ndocument.addEventListener('DOMContentLoaded', (event) => {    \r\n    updateRestaurants();\r\n    fetchNeighborhoods();\r\n    fetchCuisines();       \r\n});\r\n\r\n\r\n/**\r\n * Fetch all neighborhoods and set their HTML.\r\n */\r\nvar fetchNeighborhoods = () => {\r\n    window.localforage.getItem(NEIBOURHOUDS_DBNAME, function(err, neighborhoods) {\r\n        if (neighborhoods) {\r\n            self.neighborhoods = neighborhoods;\r\n            fillNeighborhoodsHTML();\r\n        } else {\r\n            DBHelper.fetchNeighborhoods((error, neighborhoods) => {\r\n                if (error) { // Got an error\r\n                    console.error(error);\r\n                } else {\r\n                    self.neighborhoods = neighborhoods;\r\n                    fillNeighborhoodsHTML();\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n}\r\n\r\n\r\n/**\r\n * Set neighborhoods HTML.\r\n */\r\nvar fillNeighborhoodsHTML = (neighborhoods = self.neighborhoods) => {\r\n    const select = document.getElementById('neighborhoods-select');\r\n    neighborhoods.forEach(neighborhood => {\r\n        const option = document.createElement('option');\r\n        option.innerHTML = neighborhood;\r\n        option.value = neighborhood;\r\n        select.append(option);\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * Fetch all cuisines and set their HTML.\r\n */\r\nvar fetchCuisines = () => {\r\n\r\n    window.localforage.getItem(CUISINE_DBNAME, function(err, cuisines) {\r\n        if (cuisines) {\r\n            self.cuisines = cuisines;\r\n            fillCuisinesHTML();\r\n        } else {\r\n            DBHelper.fetchCuisines((error, cuisines) => {\r\n                if (error) { // Got an error!\r\n                    console.error(error);\r\n                } else {\r\n                    self.cuisines = cuisines;\r\n                    fillCuisinesHTML();\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n}\r\n\r\n\r\n/**\r\n * Set cuisines HTML.\r\n */\r\nvar fillCuisinesHTML = (cuisines = self.cuisines) => {\r\n    const select = document.getElementById('cuisines-select');\r\n\r\n    cuisines.forEach(cuisine => {\r\n        const option = document.createElement('option');\r\n        option.innerHTML = cuisine;\r\n        option.value = cuisine;\r\n        select.append(option);\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * Initialize Google map, called from HTML.\r\n */\r\nwindow.initMap = () => {\r\n    \r\n    const toggleFav =  document.getElementById('toggle_fav');\r\n    toggleFav.onclick = function(){\r\n        console.log(toggleFav.checked);\r\n        favs_only  = (toggleFav.checked == \"checked\" || toggleFav.checked === true);\r\n        updateRestaurants();\r\n    }\r\n\r\n    const m = document.getElementById('map');\r\n   \r\n    //start observing map to enter the view:\r\n    var observer = new IntersectionObserver(entries => {\r\n        entries.forEach(entry => {\r\n            if (entry.intersectionRatio > 0) {\r\n                showMap(entry.target);\r\n                observer.unobserve(entry.target);\r\n            }\r\n        });\r\n    });    \r\n    observer.observe(m);\r\n}\r\n\r\n\r\n/**\r\n * Show Google map when being in the view\r\n */\r\nvar showMap = function(m){\r\n    let loc = {\r\n        lat: 40.722216,\r\n        lng: -73.987501\r\n    };\r\n    self.map = new google.maps.Map(m, {\r\n        zoom: 12,\r\n        center: loc,\r\n        scrollwheel: false\r\n    });  \r\n\r\n    addMarkersToMap();\r\n};\r\n\r\n\r\n/**\r\n * Update page and map for current restaurants.\r\n */\r\nvar updateRestaurants = () => {\r\n    const cSelect = document.getElementById('cuisines-select');\r\n    const nSelect = document.getElementById('neighborhoods-select');\r\n\r\n    const cIndex = cSelect.selectedIndex;\r\n    const nIndex = nSelect.selectedIndex;\r\n\r\n    const cuisine = cSelect[cIndex].value;\r\n    const neighborhood = nSelect[nIndex].value;\r\n\r\n    const map = document.getElementById('map-container');\r\n    map.setAttribute('aria-label', `map of ${cuisine} restaurants in ${neighborhood} neighborhood`);\r\n  \r\n    if(favs_only){\r\n        DBHelper.fetchFavoriteRestaurantByCuisineAndNeighborhood(cuisine, neighborhood, (error, restaurants) => {\r\n            if (error) { // Got an error!\r\n                console.error(error);\r\n            } else {\r\n                resetRestaurants(restaurants);\r\n                fillRestaurantsHTML();\r\n            }\r\n        })\r\n    }else {\r\n        DBHelper.fetchRestaurantByCuisineAndNeighborhood(cuisine, neighborhood, (error, restaurants) => {\r\n            if (error) { // Got an error!\r\n                console.error(error);\r\n            } else {\r\n                resetRestaurants(restaurants);\r\n                fillRestaurantsHTML();\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Clear current restaurants, their HTML and remove their map markers.\r\n */\r\nvar resetRestaurants = (restaurants) => {\r\n    // Remove all restaurants\r\n    self.restaurants = [];\r\n    const ul = document.getElementById('restaurants-list');\r\n    ul.innerHTML = '';\r\n\r\n    // Remove all map markers\r\n    if(self.markers){\r\n        self.markers.forEach(m => m.setMap(null));\r\n        self.markers = [];\r\n    }\r\n    self.restaurants = restaurants;\r\n}\r\n\r\n\r\n/**\r\n * Create all restaurants HTML and add them to the webpage.\r\n */\r\nvar fillRestaurantsHTML = (restaurants = self.restaurants) => {\r\n    const ul = document.getElementById('restaurants-list');\r\n    restaurants.forEach(restaurant => {\r\n        ul.append(createRestaurantHTML(restaurant));\r\n    });\r\n\r\n    //start observing images to enter the view:\r\n    const myImgs = document.querySelectorAll('.restaurant-img');\r\n    var observer = new IntersectionObserver(entries => {\r\n        entries.forEach(entry => {\r\n            if (entry.intersectionRatio > 0) {\r\n                setImageSrc(entry.target);\r\n                observer.unobserve(entry.target);\r\n            }\r\n        });\r\n    });\r\n    myImgs.forEach(image => {\r\n        observer.observe(image);\r\n    });\r\n\r\n    // add markers to the map:\r\n    if(self.map && restaurants)\r\n        addMarkersToMap();\r\n}\r\n\r\n\r\n/**\r\n * Create restaurant HTML.\r\n */\r\nvar createRestaurantHTML = (restaurant) => {\r\n  \r\n    const li = document.createElement('li');\r\n\r\n    const image = document.createElement('img');\r\n    let imageSrc = DBHelper.imageUrlForRestaurant(restaurant);\r\n    image.setAttribute(\"data-src\",imageSrc);    \r\n    if(imageSrc !== undefined)\r\n        image.setAttribute('alt', `photo of ${restaurant.name} restaurant`);    \r\n    else\r\n        image.setAttribute('alt', 'photo not available');\r\n\r\n    image.className = 'restaurant-img';\r\n    li.append(image);\r\n\r\n    const name = document.createElement('h3');\r\n    name.innerHTML = restaurant.name;\r\n    li.append(name);\r\n\r\n    const neighborhood = document.createElement('p');\r\n    neighborhood.innerHTML = restaurant.neighborhood;\r\n    li.append(neighborhood);\r\n\r\n    const address = document.createElement('p');\r\n    address.innerHTML = restaurant.address;\r\n    li.append(address);\r\n\r\n    const favBTN = document.createElement('input');\r\n    favBTN.className = 'rating fav left';\r\n    //convert is_favorite from string, if it's, to boolean:\r\n    restaurant.is_favorite = ((restaurant.is_favorite == \"true\") || restaurant.is_favorite == true);\r\n\r\n    //set the star appropriately:\r\n    if(restaurant.is_favorite === true){\r\n        favBTN.value = '\\u2605';\r\n        favBTN.classList.add('gold');\r\n    }else\r\n        favBTN.value = '\\u2606';\r\n\r\n    favBTN.setAttribute('aria-label',`add ${restaurant.name} to favorites`);\r\n    favBTN.setAttribute(\"type\",\"button\");\r\n    favBTN.setAttribute(\"title\",\"Favorites\");    \r\n    \r\n    favBTN.onclick = function(){\r\n        restaurant.is_favorite = !restaurant.is_favorite;\r\n        DBHelper.toggleFavorite(favBTN,restaurant.id,restaurant.is_favorite);\r\n    }\r\n    li.append(favBTN);\r\n\r\n    const more = document.createElement('a');\r\n    more.innerHTML = 'View Details';\r\n    more.setAttribute('aria-label',`View Details about ${restaurant.name}`);\r\n    more.href = DBHelper.urlForRestaurant(restaurant);\r\n    li.append(more)\r\n\r\n    return li\r\n}\r\n\r\n\r\n/**\r\n * Fetch the image src if in the view\r\n */\r\nvar setImageSrc =function(image){\r\n    let imageSrc = image.getAttribute('data-src');\r\n    image.setAttribute(\"data-src\",imageSrc);\r\n \r\n    if(imageSrc !== 'undefined'){\r\n        /* remove the image extention */\r\n        imageSrc = imageSrc.replace(/\\.jpg$/, '');\r\n        image.setAttribute('srcset', `${imageSrc}-300px.webp 300w, ${imageSrc}-420px.webp 400w, ${imageSrc}-650px.webp 600w`);\r\n        image.setAttribute('sizes', '(max-width: 667px) 90vw, 300px');\r\n        image.src = `${imageSrc}-300px.jpg`;\r\n    }else{\r\n        image.src = '/img/icon-no-image.png';\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Add markers for current restaurants to the map.\r\n */\r\nvar addMarkersToMap = (restaurants = self.restaurants) => {\r\n    restaurants.forEach(restaurant => {\r\n        // Add marker to the map\r\n        const marker = DBHelper.mapMarkerForRestaurant(restaurant, self.map);\r\n        google.maps.event.addListener(marker, 'click', () => {\r\n            window.location.href = marker.url\r\n        });\r\n        self.markers.push(marker);\r\n    });\r\n}\r\n\r\n","/*\r\n * use polyfills if necessary\r\n */\r\nconst polyfillsNeeded = [];\r\n\r\nif (!('Promise' in self)) polyfillsNeeded.push('/js/polyfills/promise.js');\r\nif (!('fetch' in self)) polyfillsNeeded.push('/js/polyfills/fetch.js');\r\nif (!('IntersectionObserver' in self)) polyfillsNeeded.push('/js/polyfills/intersection-observer.js');\r\n\r\npolyfillsNeeded.forEach(function (polyfill) {\r\n    var script = document.createElement('script');   \r\n    script.src = polyfill;\r\n    document.head.insertBefore(script, document.head.firstChild);\r\n});\r\n\r\n\r\n/*\r\n* Register service worker for offline support\r\n*/\r\nwindow.registerServiceWorker = () => {\r\n    if (!navigator.serviceWorker) return;\r\n\r\n    navigator.serviceWorker.register('/sw.js').then(function (reg) {\r\n        if (!navigator.serviceWorker.controller) {\r\n            return;\r\n        }\r\n\r\n        console.log(\"SW registered\");\r\n    });\r\n}\r\nregisterServiceWorker();\r\n\r\n"]}