"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function i(s,u,c){function a(n,t){if(!u[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(f)return f(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[n]={exports:{}};s[n][0].call(o.exports,function(t){var e=s[n][1][t];return a(e||t)},o,o.exports,i,s,u,c)}return u[n].exports}for(var f="function"==typeof require&&require,t=0;t<c.length;t++)a(c[t]);return a}({1:[function(t,e,n){var r,o,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var a,f=[],l=!1,h=-1;function p(){l&&a&&(l=!1,a.length?f=a.concat(f):h=-1,f.length&&d())}function d(){if(!l){var t=c(p);l=!0;for(var e=f.length;e;){for(a=f,f=[];++h<e;)a&&a[h].run();h=-1,e=f.length}a=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new v(t,e)),1!==f.length||l||c(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(H,n,r){(function(B,G){var t,e;t=this,e=function(){function a(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,e=void 0,o=void 0,u=function(t,e){h[r]=t,h[r+1]=e,2===(r+=2)&&(o?o(p):m())};var t="undefined"!=typeof window?window:void 0,i=t||{},s=i.MutationObserver||i.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==B&&"[object process]"==={}.toString.call(B),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var t=setTimeout;return function(){return t(p,1)}}var h=new Array(1e3);function p(){for(var t=0;t<r;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}r=0}var d,v,y,_,m=void 0;function w(t,e){var n=arguments,r=this,o=new this.constructor(T);void 0===o[g]&&Y(o);var i,s=r._state;return s?(i=n[s-1],u(function(){return N(s,o,i,r._result)})):k(r,o,t,e),o}function b(t){if(t&&"object"===(void 0===t?"undefined":_typeof(t))&&t.constructor===this)return t;var e=new this(T);return M(e,t),e}c?m=function(){return B.nextTick(p)}:s?(v=0,y=new s(p),_=document.createTextNode(""),y.observe(_,{characterData:!0}),m=function(){_.data=v=++v%2}):f?((d=new MessageChannel).port1.onmessage=p,m=function(){return d.port2.postMessage(0)}):m=void 0===t&&"function"==typeof H?function(){try{var t=H("vertx");return e=t.runOnLoop||t.runOnContext,function(){e(p)}}catch(t){return l()}}():l();var g=Math.random().toString(36).substring(16);function T(){}var A=void 0,E=1,S=2,j=new D;function x(t){try{return t.then}catch(t){return j.error=t,j}}function O(t,e,n){var r,o,i,s;e.constructor===t.constructor&&n===w&&e.constructor.resolve===b?(i=t,(s=e)._state===E?L(i,s._result):s._state===S?P(i,s._result):k(s,void 0,function(t){return M(i,t)},function(t){return P(i,t)})):n===j?P(t,j.error):void 0===n?L(t,e):a(n)?(r=e,o=n,u(function(e){var n=!1,t=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(o,r,function(t){n||(n=!0,r!==t?M(e,t):L(e,t))},function(t){n||(n=!0,P(e,t))},e._label);!n&&t&&(n=!0,P(e,t))},t)):L(t,e)}function M(t,e){var n;t===e?P(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=e)||"object"===(void 0===n?"undefined":_typeof(n))&&null!==n?O(t,e,x(e)):L(t,e)}function C(t){t._onerror&&t._onerror(t._result),q(t)}function L(t,e){t._state===A&&(t._result=e,t._state=E,0!==t._subscribers.length&&u(q,t))}function P(t,e){t._state===A&&(t._state=S,t._result=e,u(C,t))}function k(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+E]=n,o[i+S]=r,0===i&&t._state&&u(q,t)}function q(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?N(n,r,o,i):o(i);t._subscribers.length=0}}function D(){this.error=null}var F=new D;function N(t,e,n,r){var o=a(n),i=void 0,s=void 0,u=void 0,c=void 0;if(o){if((i=function(t,e){try{return t(e)}catch(t){return F.error=t,F}}(n,r))===F?(c=!0,s=i.error,i=null):u=!0,e===i)return void P(e,new TypeError("A promises callback cannot return that same promise."))}else i=r,u=!0;e._state!==A||(o&&u?M(e,i):c?P(e,s):t===E?L(e,i):t===S&&P(e,i))}var U=0;function Y(t){t[g]=U++,t._state=void 0,t._result=void 0,t._subscribers=[]}function K(t,e){this._instanceConstructor=t,this.promise=new t(T),this.promise[g]||Y(this.promise),n(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&L(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}function W(t){this[g]=U++,this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof W?function(e,t){try{t(function(t){M(e,t)},function(t){P(e,t)})}catch(t){P(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function z(){var t=void 0;if(void 0!==G)t=G;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=W}return K.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===A&&n<t;n++)this._eachEntry(e[n],n)},K.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var o=x(e);if(o===w&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===W){var i=new n(T);O(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},K.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===A&&(this._remaining--,t===S?P(r,n):this._result[e]=n),0===this._remaining&&L(r,this._result)},K.prototype._willSettleAt=function(t,e){var n=this;k(t,void 0,function(t){return n._settledAt(E,e,t)},function(t){return n._settledAt(S,e,t)})},W.all=function(t){return new K(this,t).promise},W.race=function(o){var i=this;return n(o)?new i(function(t,e){for(var n=o.length,r=0;r<n;r++)i.resolve(o[r]).then(t,e)}):new i(function(t,e){return e(new TypeError("You must pass an array to race."))})},W.resolve=b,W.reject=function(t){var e=new this(T);return P(e,t),e},W._setScheduler=function(t){o=t},W._setAsap=function(t){u=t},W._asap=u,W.prototype={constructor:W,then:w,catch:function(t){return this.then(null,t)}},z(),W.polyfill=z,W.Promise=W},"object"===(void 0===r?"undefined":_typeof(r))&&void 0!==n?n.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}).call(this,H("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],3:[function(t,e,n){t("es6-promise").polyfill()},{"es6-promise":2}]},{},[3]);
//# sourceMappingURL=promise.js.map
